<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SFRP Staff Application</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Segoe+UI&display=swap">
  <style>
    :root {
      --bg-light: #ffffff;
      --bg-dark: #0f172a;
      --text-light: #0f172a;
      --text-dark: #f1f5f9;
      --accent: #38bdf8;
      --card-bg: #1e293b;
      --border-radius: 12px;
      --gradient: linear-gradient(to right, #1e3a8a, #2563eb, #38bdf8);
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      transition: background 0.3s, color 0.3s;
      background: var(--bg-dark);
      color: var(--text-dark);
      padding: 1rem;
      background-image: var(--gradient);
      background-size: 400% 400%;
      animation: gradientMove 15s ease infinite;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .light-mode {
      background: var(--bg-light);
      color: var(--text-light);
      background-image: none;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: var(--card-bg);
      padding: 2rem;
      border-radius: var(--border-radius);
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }
    .light-mode .container {
      background: #f3f4f6;
    }
    h1, h2, h3 {
      text-align: center;
      margin-bottom: 1rem;
      color: var(--accent);
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: 500;
    }
    input, textarea, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border-radius: 8px;
      border: 1px solid #64748b;
      font-size: 1rem;
      box-sizing: border-box;
    }
    input:focus, textarea:focus, select:focus {
      outline: 2px solid var(--accent);
      background-color: #1e293b;
    }
    input, textarea, select {
      background: #334155;
      color: white;
    }
    .light-mode input,
    .light-mode textarea,
    .light-mode select {
      background: white;
      color: black;
      border: 1px solid #cbd5e1;
    }
    button {
      background: var(--accent);
      color: white;
      margin-top: 1.5rem;
      cursor: pointer;
    }
    button:hover {
      background: #0284c7;
    }
    #toggle-dark {
      position: fixed;
      top: 10px;
      right: 20px;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      background: var(--accent);
      color: white;
      cursor: pointer;
      z-index: 1000;
    }
    img.logo {
      display: block;
      margin: 0 auto 1rem;
      height: 80px;
      border-radius: 50%;
    }
    .section {
      margin: 1.5rem 0;
    }
    .question {
      margin-top: 1rem;
    }
    .optional {
      font-style: italic;
      font-size: 0.9rem;
      color: #cbd5e1;
    }
    .map {
      width: 100%;
      border-radius: 8px;
      margin: 1rem 0;
    }
    .grid-table {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 6px;
      margin-top: 1rem;
    }
    .grid-table div {
      font-weight: bold;
      text-align: center;
      color: #cbd5e1;
    }
    .grid-table input[type="checkbox"] {
      transform: scale(1.4);
      margin: auto;
    }
    @media (max-width: 600px) {
      .grid-table {
        grid-template-columns: repeat(3, 1fr);
      }
      .grid-table div,
      .grid-table input[type="checkbox"] {
        font-size: 0.9rem;
      }
    }
    details {
    border: 2px solid #3b82f6;
    border-radius: 10px;
    margin: 1.5rem 0;
    padding: 1rem;
    background-color: #1e293b;
  }
  details summary {
    font-size: 1.2rem;
    cursor: pointer;
    font-weight: bold;
    color: var(--accent);
    margin-bottom: 0.5rem;
  }
  details[open] summary::after {
    content: "▲";
    float: right;
  }
  details summary::after {
    content: "▼";
    float: right;
  }
  .light-mode details {
    background-color: #f3f4f6;
  }
  details.completed summary {
    color: #10b981;
  }
  details.incomplete summary {
    color: #ef4444;
  }
  #progressTracker {
    margin: 1rem 0;
    padding: 0.75rem;
    border-radius: 8px;
    background-color: #1e40af;
    color: white;
    text-align: center;
    font-weight: bold;
    font-size: 1.1rem;
  }
  .light-mode #progressTracker {
    background-color: #bfdbfe;
    color: black;
  }
</style>
</head>
<body>
  <button id="toggle-dark">Toggle Dark Mode</button>
  <img class="logo" src="logo.png" alt="SFRP Logo" />
  <div class="container">
    <div id="progressTracker">
  <div style="margin-bottom: 0.5rem;">Progress:</div>
  <div style="width: 100%; background: #334155; border-radius: 6px; overflow: hidden; height: 20px;">
    <div id="progressBarFill" style="height: 100%; width: 0%; background: #38bdf8; transition: width 0.3s ease, background 0.3s ease;"></div>
  </div>
  <div id="progressPercent" style="margin-top: 0.5rem; font-weight: bold;">0%</div>
</div>
    <h1>SFRP Staff Application</h1>
    <p style="text-align:center">You're here to apply! Take a deep breath, answer each question carefully, and good luck on your journey to becoming an SFRP Staff Member. If your application gets denied, you must wait one week before applying again. If you apply within that period, your application will be ignored.</p><form id="applicationForm">
  <div id="formSections">

  <details open>
    <summary><strong>Basic Information</strong></summary>
    <p>Answer the following to identify yourself clearly.</p>
    <label>1. Discord Username, E.g: ERLC-lover123123 *</label>
    <input type="text" name="Discord Username" required><label>2. Discord ID *</label>
<input type="text" name="Discord ID" required>

<label>3. Roblox Username, E.g: IloveErlc-999 *</label>
<input type="text" name="Roblox Username" required>

<label>4. Roblox ID *</label>
<input type="text" name="Roblox ID" required>

<label>5. State your Time Zone and Age *</label>
<input type="text" name="Time Zone and Age" required>

  </details>  <details>
    <summary><strong>SFRP Knowledge</strong></summary>
    <p>Answer a few short questions to test your general knowledge.</p>
    <label>6. What does SFRP stand for? *</label>
    <input type="text" name="What does SFRP stand for" required><label>7. Which of these is an ERLC command? (Check all that apply)</label>
<select name="ERLC Commands" multiple required>
  <option value=":cmds">:cmds</option>
  <option value=":spawncar">:spawncar</option>
  <option value=":startfire">:startfire</option>
  <option value=":bring all-civillians">:bring all-civillians</option>
</select>

<label>8. Are you required to have a livery on as staff? (Yes or No) *</label>
<input type="text" name="Livery Required" required>

  </details>  <details>
    <summary><strong>About You</strong></summary>
    <p>Tell us more about who you are and why you're applying.</p>
    <label>9. Name 3 of your best qualities (2-3 sentences) *</label>
    <textarea name="Best Qualities" required></textarea><label>10. Why would you want to join the team? (3-5 sentences) *</label>
<textarea name="Why Join" required></textarea>

<label>11. Why should we pick you? (3-5 sentences) *</label>
<textarea name="Why Pick You" required></textarea>

<label>12. Name 1 weakness you have and explain how it might affect the team *</label>
<textarea name="Weakness" required></textarea>

<label>13. What would you bring to the team? *</label>
<textarea name="What You Bring" required></textarea>

  </details>  <details>
    <summary><strong>Scenario Based Questions</strong></summary>
    <p>Respond to the following situations with as much detail as possible.</p>
    <label>14. What would you do if you caught a roleplayer whose username is all1234556 after only one person showed up from a bring all command? *</label>
    <textarea name="Roleplay Response" required></textarea><label>15. How would you handle an unofficial mafia causing havoc without permissions? *</label>
<textarea name="Unofficial Mafia" required></textarea>

<label>16. What would you do if someone pinged @everyone and no HR/SHR is online? *</label>
<textarea name="Ping Incident" required></textarea>

<label>17. Create your own high-risk scenario in <b>bold</b> and explain how you would handle it. *</label>
<textarea name="Custom Scenario" required></textarea>

  </details>  <details>
    <summary><strong>Rule Knowledge</strong></summary>
    <p>Define and give examples for each term.</p>
    <label>18. What is FRP? *</label>
    <textarea name="FRP" required></textarea><label>19. What is NLR? *</label>
<textarea name="NLR" required></textarea>

<label>20. What is VDM & RDM? *</label>
<textarea name="VDM RDM" required></textarea>

<label>21. What is Gun Motion and Cuff Rush (Cuff Motion)? *</label>
<textarea name="Gun Motion Cuff Rush" required></textarea>

<label>22. What is Tool Abuse? *</label>
<textarea name="Tool Abuse" required></textarea>

<label>23. What is Mod Call Spamming? *</label>
<textarea name="Mod Call Spamming" required></textarea>

<label>24. What is NSFW Content? *</label>
<textarea name="NSFW Content" required></textarea>

<label>25. What is Profanity? *</label>
<textarea name="Profanity" required></textarea>

  </details>  <details>
    <summary><strong>Map Grid Check</strong></summary>
    <p>Using the image below, check the correct boxes for each location.</p>
    <img class="map" src="map.png" alt="Map Grid">
    <div class="grid-table">
  <label><input type="checkbox" name="Grid A1"> A1</label>
  <label><input type="checkbox" name="Grid B1"> B1</label>
  <label><input type="checkbox" name="Grid C1"> C1</label>
  <label><input type="checkbox" name="Grid D1"> D1</label>
  <label><input type="checkbox" name="Grid E1"> E1</label>
  <label><input type="checkbox" name="Grid A2"> A2</label>
  <label><input type="checkbox" name="Grid B2"> B2</label>
  <label><input type="checkbox" name="Grid C2"> C2</label>
  <label><input type="checkbox" name="Grid D2"> D2</label>
  <label><input type="checkbox" name="Grid E2"> E2</label>
  <label><input type="checkbox" name="Grid A3"> A3</label>
  <label><input type="checkbox" name="Grid B3"> B3</label>
  <label><input type="checkbox" name="Grid C3"> C3</label>
  <label><input type="checkbox" name="Grid D3"> D3</label>
  <label><input type="checkbox" name="Grid E3"> E3</label>
  <label><input type="checkbox" name="Grid A4"> A4</label>
  <label><input type="checkbox" name="Grid B4"> B4</label>
  <label><input type="checkbox" name="Grid C4"> C4</label>
  <label><input type="checkbox" name="Grid D4"> D4</label>
  <label><input type="checkbox" name="Grid E4"> E4</label>
  <label><input type="checkbox" name="Grid A5"> A5</label>
  <label><input type="checkbox" name="Grid B5"> B5</label>
  <label><input type="checkbox" name="Grid C5"> C5</label>
  <label><input type="checkbox" name="Grid D5"> D5</label>
  <label><input type="checkbox" name="Grid E5"> E5</label>
</div>
  </details>  <details>
    <summary><strong>Final Confirmation</strong></summary>
    <p>Please confirm your understanding and submit your signature.</p>
    <label>27. Do you understand that you must follow all rules both on and off duty? *</label>
    <input type="text" name="Follow Rules Confirm" required><label>28. Do you understand your application can be denied? *</label>
<input type="text" name="Application Denial Confirm" required>

<label>29. Do you understand AI usage leads to denial? *</label>
<input type="text" name="AI Usage Confirm" required>

<label>30. Sign with your Roblox username to acknowledge your responsibilities *</label>
<input type="text" name="Roblox Signature" required>

<label>31. Anything you would like to tell the reader? <span class="optional">(Optional)</span></label>
<textarea name="Extra Note"></textarea>

  </details>
</div>
      <button type="submit">Submit Application</button>
    </form><div id="success-message" style="display:none; text-align:center; margin-top:1rem; color:limegreen; font-weight:bold;">✅ Your application has been submitted successfully!</div>

  </div>  <script>
    document.getElementById("toggle-dark").onclick = () => {
      document.body.classList.toggle("light-mode");
    };

    document.getElementById("applicationForm").addEventListener("submit", async function(e) {
      localStorage.removeItem("sfrpAppData");
      e.preventDefault();
      const form = new FormData(e.target);
      const formObj = {};
      form.forEach((value, key) => {
        if (formObj[key]) {
          if (!Array.isArray(formObj[key])) formObj[key] = [formObj[key]];
          formObj[key].push(value);
        } else {
          formObj[key] = value;
        }
      });
      localStorage.setItem("sfrpAppData", JSON.stringify(formObj));
      const fields = [];
      for (let [name, value] of form.entries()) {
        if (value.trim() !== "") {
          fields.push({ name, value });
        }
      }

      const webhookURL = "https://discord.com/api/webhooks/1397667334197477406/eZ71Y9AGK1C7tVth-yMrtaeROiTQXBT8u8fFmc0xoGvb-QcaFjeAImTPh13_nK4eNu4A";

      const payload = {
        embeds: [
          {
            title: "📥 New Staff Application",
            color: 0x38bdf8,
            fields: fields.map(f => ({
              name: f.name.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase()),
              value: f.value.length > 1000 ? f.value.substring(0, 1000) + "..." : f.value,
              inline: false
            })),
            footer: {
              text: "South Florida RP Staff Application",
              icon_url: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Check_green_icon.svg/2048px-Check_green_icon.svg.png"
            },
            timestamp: new Date().toISOString()
          }
        ]
      };

      try {
        const res = await fetch(webhookURL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        });

        if (res.ok) {
          document.getElementById("success-message").style.display = "block";
          e.target.reset();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
          showError("Webhook submission failed. Please check your internet connection or try again later.");
        }
      } catch (err) {
        showError("An unexpected error occurred. Please contact staff if this continues.");
        console.error(err);
      }
    });
    const allDetails = document.querySelectorAll("details");
  allDetails.forEach((section, index) => {
    const requiredInputs = section.querySelectorAll("input[required], textarea[required], select[required]");
    requiredInputs.forEach(input => {
      input.addEventListener("input", () => {
        const allFilled = Array.from(requiredInputs).every(el => el.value.trim() !== "");
        if (allFilled && allDetails[index + 1] && !allDetails[index + 1].open) {
          allDetails[index + 1].open = true;
          allDetails[index + 1].scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });
  });
  const allDetails = document.querySelectorAll("details");
  allDetails.forEach((section, index) => {
    const requiredInputs = section.querySelectorAll("input[required], textarea[required], select[required]");
    const checkCompletion = () => {
      const allFilled = Array.from(requiredInputs).every(el => el.type === 'checkbox' ? true : el.value.trim() !== "");
      const checkboxes = section.querySelectorAll("input[type='checkbox']");
      if (checkboxes.length >= 4) {
        const checked = Array.from(checkboxes).filter(cb => cb.checked);
        if (checked.length < 4) return;
      }
      section.classList.add("completed");
      section.classList.remove("incomplete");
      if (allFilled && allDetails[index + 1] && !allDetails[index + 1].open) {
        allDetails[index + 1].open = true;
        allDetails[index + 1].scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    };
    requiredInputs.forEach(input => input.addEventListener("input", checkCompletion));
    section.classList.add("incomplete");
  });

  function showError(message) {
    alert("❌ Error submitting application: " + message);
  }
  const formElement = document.getElementById("applicationForm");
  const submitBtn = formElement.querySelector("button[type='submit']");
  const updateProgress = () => {
    const total = document.querySelectorAll("details").length;
    const done = document.querySelectorAll("details.completed").length;
    document.getElementById("progressPercent").innerText = `${Math.round((done / total) * 100)}%`;
    const percent = (done / total) * 100;
    const fill = document.getElementById("progressBarFill");
    fill.style.width = `${percent}%`;
    if (percent < 40) fill.style.background = '#ef4444';
    else if (percent < 80) fill.style.background = '#facc15';
    else fill.style.background = '#22c55e';
    submitBtn.disabled = done < total;
  };
  const allDetails = document.querySelectorAll("details");
  allDetails.forEach((section, index) => {
    const requiredInputs = section.querySelectorAll("input[required], textarea[required], select[required]");
    const checkCompletion = () => {
      const allFilled = Array.from(requiredInputs).every(el => el.type === 'checkbox' ? true : el.value.trim() !== "");
      const checkboxes = section.querySelectorAll("input[type='checkbox']");
      if (checkboxes.length >= 4) {
        const checked = Array.from(checkboxes).filter(cb => cb.checked);
        if (checked.length < 4) return;
      }
      section.classList.add("completed");
      section.classList.remove("incomplete");
      if (allFilled && allDetails[index + 1] && !allDetails[index + 1].open) {
        allDetails[index + 1].open = true;
        allDetails[index + 1].scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      updateProgress();
    };
    requiredInputs.forEach(input => input.addEventListener("input", checkCompletion));
    section.classList.add("incomplete");
  });
  updateProgress();

  if (localStorage.getItem("sfrpAppData")) {
    const saved = JSON.parse(localStorage.getItem("sfrpAppData"));
    Object.keys(saved).forEach(key => {
      const field = formElement.querySelector(`[name='${key}']`);
      if (field) {
        if (field.type === 'checkbox') {
          const checkboxes = formElement.querySelectorAll(`input[name='${key}']`);
          checkboxes.forEach(cb => {
            if (Array.isArray(saved[key]) && saved[key].includes(cb.value)) {
              cb.checked = true;
            }
          });
        } else {
          field.value = saved[key];
        }
      }
    });
  }
</script></body>
</html>
