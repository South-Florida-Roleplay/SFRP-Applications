<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SFRP Staff Application</title>
  <link rel="icon" type="image/png" href="logo.png">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      transition: background 3s ease;
      background: linear-gradient(-45deg, #3b82f6, #10b981, #f59e0b, #ef4444);
      background-size: 600% 600%;
      animation: gradientShift 12s ease infinite;
      color: #111;
    }
    @keyframes gradientShift {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    h1, h2 {
      text-align: center;
    }
    .section {
      margin: 1rem 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .section-header {
      background: #f3f4f6;
      padding: 10px;
      cursor: pointer;
      font-weight: bold;
    }
    .section-content {
      padding: 15px;
      display: none;
      flex-direction: column;
      gap: 10px;
    }
    .section-content.active {
      display: flex;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .btn {
      padding: 10px 20px;
      background: #2563eb;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn:hover {
      background: #1d4ed8;
    }
    #progressBar {
      position: fixed;
      top: 0;
      left: 0;
      height: 6px;
      background: #10b981;
      transition: width 0.3s ease;
      z-index: 1000;
    }
    .dark-mode {
      background: #111827;
      color: #f3f4f6;
    }
    .dark-mode .container {
      background: #1f2937;
    }
    #adminKeyIcon {
      position: fixed;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
      z-index: 2000;
    }
    #adminPanel {
      display: none;
      position: fixed;
      top: 50px;
      right: 10px;
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 2000;
    }
  </style>
</head>
<body>
  <div id="progressBar"></div>
  <div id="adminKeyIcon">ðŸ”‘</div>
  <div id="adminPanel">
    <input id="adminPassword" type="password" placeholder="Enter Admin Password">
    <button onclick="enableAdmin()">Unlock</button>
    <div id="adminActions" style="display:none">
      <button onclick="autofillForm()">Autofill Form</button>
    </div>
  </div>
  <div class="container">
    <img src="logo.png" alt="SFRP Logo" style="max-width: 100px; display:block; margin: auto;">
    <h1>SFRP Staff Application</h1>
    <div id="application"></div>
    <button class="btn" id="submitBtn" disabled>Submit Application</button>
    <div id="confirmation"></div>
    <div id="error" style="color:red;"></div>
    <div style="margin-top:20px; text-align:center">
      <button class="btn" onclick="toggleTheme()">Toggle Dark/Light Mode</button>
    </div>
  </div>  <script>
    const app = document.getElementById("application");
    const progressBar = document.getElementById("progressBar");
    const submitBtn = document.getElementById("submitBtn");
    const confirmation = document.getElementById("confirmation");
    const errorBox = document.getElementById("error");
    const adminKeyIcon = document.getElementById("adminKeyIcon");
    const adminPanel = document.getElementById("adminPanel");
    const adminPassword = document.getElementById("adminPassword");
    const adminActions = document.getElementById("adminActions");

    const questions = [
      "Discord Username",
      "Discord ID",
      "Roblox Username",
      "Roblox ID",
      "Time Zone and Age",
      "What does SFRP stand for?",
      "Which of these is an ERLC command?",
      "Is livery required as staff?",
      "Name 3 best qualities",
      "Why join the team?",
      "Why should we pick you?",
      "One weakness and how it affects the team",
      "What would you bring to the team?",
      "Special event, 1 attendee scenario",
      "Mafia causing havoc, no permissions",
      "@everyone used, no HR online",
      "Create high-risk scenario",
      "What is FRP?",
      "What is NLR?",
      "What is VDM & RDM?",
      "What is Gun Motion and Cuff Rush?",
      "What is Tool Abuse?",
      "What is Mod Call Spamming?",
      "What is NSFW Content?",
      "What is Profanity?",
      "Grid Check (City Gas Station, Springfield FD, Main Highrock Entrance, Sheriffs Office)",
      "Do you understand rules?",
      "Do you understand possible denial?",
      "AI usage = denial, understand?",
      "Sign Roblox Username",
      "Any questions or message?"
    ];

    questions.forEach((q, i) => {
      const section = document.createElement("div");
      section.className = "section";

      const header = document.createElement("div");
      header.className = "section-header";
      header.textContent = `Question ${i + 1}`;
      header.addEventListener("click", () => {
        content.classList.toggle("active");
      });

      const content = document.createElement("div");
      content.className = "section-content";
      const label = document.createElement("label");
      label.textContent = q;
      const input = document.createElement("input");
      input.required = true;
      input.name = `q${i}`;

      // localStorage restore
      const saved = localStorage.getItem(`q${i}`);
      if (saved) input.value = saved;

      input.addEventListener("input", () => {
        localStorage.setItem(`q${i}`, input.value);
        updateProgress();
        autoExpandNext();
      });

      content.appendChild(label);
      content.appendChild(input);

      section.appendChild(header);
      section.appendChild(content);

      app.appendChild(section);
    });

    function updateProgress() {
      const inputs = document.querySelectorAll("input");
      const filled = Array.from(inputs).filter(i => i.value.trim() !== "").length;
      const percent = (filled / inputs.length) * 100;
      progressBar.style.width = percent + "%";
      submitBtn.disabled = filled < inputs.length - 1;
    }

    function autoExpandNext() {
      document.querySelectorAll(".section").forEach(section => {
        const inputs = section.querySelectorAll("input");
        const allFilled = Array.from(inputs).every(i => i.value.trim() !== "");
        if (allFilled) {
          const next = section.nextElementSibling;
          if (next && next.querySelector(".section-content")) {
            next.querySelector(".section-content").classList.add("active");
          }
        }
      });
    }

    function toggleTheme() {
      document.body.classList.toggle("dark-mode");
    }

    adminKeyIcon.addEventListener("click", () => {
      adminPanel.style.display = adminPanel.style.display === "block" ? "none" : "block";
    });

    function enableAdmin() {
      if (adminPassword.value === "admin123") {
        adminActions.style.display = "block";
      }
    }

    function autofillForm() {
      document.querySelectorAll("input").forEach(input => {
        input.value = Math.random().toString(36).substring(2, 10);
        localStorage.setItem(input.name, input.value);
      });
      updateProgress();
    }

    submitBtn.addEventListener("click", () => {
      errorBox.textContent = "";
      confirmation.textContent = "Submitting...";

      const answers = {};
      document.querySelectorAll("input").forEach(input => {
        answers[input.name] = input.value;
      });

      fetch("https://discord.com/api/webhooks/1397667334197477406/eZ71Y9AGK1C7tVth-yMrtaeROiTQXBT8u8fFmc0xoGvb-QcaFjeAImTPh13_nK4eNu4A", {
        method: "POST",
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content: JSON.stringify(answers, null, 2) })
      }).then(res => {
        if (res.ok) {
          confirmation.textContent = "Application sent successfully!";
          localStorage.clear();
        } else {
          throw new Error("Webhook error");
        }
      }).catch(err => {
        confirmation.textContent = "";
        errorBox.textContent = "Error submitting application: " + err.message;
      });
    });
  </script></body>
</html>
